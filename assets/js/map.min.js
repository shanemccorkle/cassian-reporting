window.map={mapType:"ROADMAP",mapZoom:12,mapStyle:"M&M-default",mapScroll:"on",marker:"show",label:"<strong>8th avenue, New York</strong>",lat:"40.740957",lng:"-74.002119",markerURL:"assets/images/marker.png"},jQuery(document).ready(function(e){e(".google-map").each(function(){function t(e){var t,s=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],l={zoom:parseInt(a.mapZoom,13),center:e,scrollwheel:!1,draggable:"on"===a.mapScroll,mapTypeId:google.maps.MapTypeId[a.mapType]};t=new google.maps.Map(o[0],l);var i;if("M&M-default"===a.mapStyle&&t.setOptions({styles:s}),"show"===a.marker){var n={url:a.markerURL,origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,30)};i=new r({label:a.label,position:e,icon:n,map:t})}}var o=e(this),a=window[o.attr("id")],s=function(e){this.setValues(e),this.div=document.createElement("div"),this.div.className="map-marker-label"};s.prototype=e.extend(new google.maps.OverlayView,{onAdd:function(){this.getPanes().overlayImage.appendChild(this.div);var e=this;this.listeners=[google.maps.event.addListener(this,"position_changed",function(){e.draw()}),google.maps.event.addListener(this,"text_changed",function(){e.draw()}),google.maps.event.addListener(this,"zindex_changed",function(){e.draw()})]},onRemove:function(){this.div.parentNode.removeChild(this.div);for(var e=0,t=this.listeners.length;t>e;++e)google.maps.event.removeListener(this.listeners[e])},draw:function(){var t,o,a=String(this.get("text")),s=this.marker.icon.anchor,r=this.getProjection().fromLatLngToDivPixel(this.get("position"));this.div.innerHTML=a,this.div.style.position="relative",t=e("div.map-marker-label").outerHeight(),o=e("div.map-marker-label").outerWidth(),this.div.style.left=r.x-o/2+"px",this.div.style.top=r.y-s.y-t-10+"px"}});var r=function(e){google.maps.Marker.apply(this,arguments),e.label&&(this.MarkerLabel=new s({map:this.map,marker:this,text:e.label}),this.MarkerLabel.bindTo("position",this,"position"))};if(r.prototype=e.extend(new google.maps.Marker,{setMap:function(){google.maps.Marker.prototype.setMap.apply(this,arguments),this.MarkerLabel&&this.MarkerLabel.setMap.apply(this.MarkerLabel,arguments)}}),void 0!==a.address){var l=new google.maps.Geocoder;l.geocode({address:a.address},function(e,o){o===google.maps.GeocoderStatus.OK?t(e[0].geometry.location):alert("Geocode was not successful for the following reason: "+o)})}else void 0!==a.lat&&void 0!==a.lng&&t(new google.maps.LatLng(a.lat,a.lng))})});